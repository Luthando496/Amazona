{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/imang/Music/ECOMMERCE/front/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"C:/Users/imang/Music/ECOMMERCE/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"C:/Users/imang/Music/ECOMMERCE/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/imang/Music/ECOMMERCE/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link,useNavigate,useLocation}from'react-router-dom';import{login}from'../Store/Actions/authActions';import Loader from'../Components/Loader';import{useAlert}from'react-alert';import axios from'axios';import{newProduct}from'../Store/Actions/ProductsActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewProduct=function NewProduct(){var alert=useAlert();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),seller=_useState4[0],setSeller=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var categories=['Electronics','Furnisher','Beauty & Health','Audio & Media','Books','Fashion','Food'];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),category=_useState10[0],setCategory=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),filer=_useState12[0],setFile=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),stock=_useState14[0],setStock=_useState14[1];var dispacth=useDispatch();var setImagee=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var file,formData,config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:file=e.target.files[0];formData=new FormData();formData.set('image',file);console.log(_toConsumableArray(formData));config={headers:{'Content-type':'application/json'}};_context.prev=5;_context.next=8;return axios.post('/v1/api/amazona/users/uploader',formData,config);case 8:_yield$axios$post=_context.sent;data=_yield$axios$post.data;console.log(data);setFile(data);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](5);console.log(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[5,14]]);}));return function setImagee(_x){return _ref.apply(this,arguments);};}();var navigate=useNavigate();var submit=function submit(){dispacth(newProduct(name,description,price,seller,category,filer));alert.success('Product uploaded successfully');navigate('/');};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrapper my-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"shadow-lg\",encType:\"multipart/form-data\",onSubmit:submit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4\",children:\"New Product\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"name_field\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name_field\",className:\"form-control\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"price_field\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"price_field\",className:\"form-control\",value:price,onChange:function onChange(e){return setPrice(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"description_field\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"description_field\",rows:\"8\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"category_field\",children:\"Category\"}),/*#__PURE__*/_jsx(\"select\",{className:\"form-control\",id:\"category_field\",onChange:function onChange(e){return setCategory(e.target.value);},value:category,children:categories.map(function(cate){return/*#__PURE__*/_jsx(\"option\",{value:cate,children:cate},cate);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"stock_field\",children:\"Stock\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"stock_field\",className:\"form-control\",value:stock,onChange:function onChange(e){return setStock(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"seller_field\",children:\"Seller Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"seller_field\",className:\"form-control\",value:seller,onChange:function onChange(e){return setSeller(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Images\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-file\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"product_images\",className:\"custom-file-input\",id:\"customFile\",multiple:true,onChange:setImagee}),/*#__PURE__*/_jsx(\"label\",{className:\"custom-file-label\",for:\"customFile\",children:\"Choose Images\"})]})]}),/*#__PURE__*/_jsx(\"button\",{id:\"login_button\",type:\"submit\",className:\"btn btn-block py-3\",children:\"CREATE\"})]})})})});};export default NewProduct;","map":{"version":3,"sources":["C:/Users/imang/music/ecommerce/front/src/Admin/NewProduct.js"],"names":["React","useState","Fragment","useEffect","useDispatch","useSelector","Link","useNavigate","useLocation","login","Loader","useAlert","axios","newProduct","NewProduct","alert","name","setName","seller","setSeller","price","setPrice","description","setDescription","categories","category","setCategory","filer","setFile","stock","setStock","dispacth","setImagee","e","file","target","files","formData","FormData","set","console","log","config","headers","post","data","navigate","submit","success","value","map","cate"],"mappings":"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","sourcesContent":["import React,{useState,Fragment,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport {Link,useNavigate,useLocation} from 'react-router-dom'\r\nimport {login} from '../Store/Actions/authActions'\r\nimport Loader from '../Components/Loader'\r\nimport {useAlert} from 'react-alert'\r\nimport axios from 'axios'\r\nimport { newProduct } from '../Store/Actions/ProductsActions'\r\n\r\n\r\nconst NewProduct = () => {\r\n    const alert = useAlert()\r\n    const [name , setName] = useState('')\r\n    const [seller , setSeller] = useState('')\r\n    const [price,setPrice] = useState(0)\r\n    const [description,setDescription] = useState('')\r\n    const categories= ['Electronics','Furnisher','Beauty & Health','Audio & Media','Books','Fashion','Food']\r\n\r\n    const [category, setCategory] = useState('')\r\n    let [filer,setFile] = useState({})\r\n    const [stock,setStock] = useState(0)\r\n\r\n    const dispacth = useDispatch()\r\n\r\n\r\n\r\n    const setImagee = async(e)=>{\r\n        const file = e.target.files[0];\r\n\r\n        let formData = new FormData()\r\n        formData.set('image', file)\r\n        console.log([...formData])\r\n\r\n\r\n        const config ={\r\n          headers:{\r\n              'Content-type':'application/json',\r\n          }\r\n      }\r\n\r\n\r\n        try{\r\n\r\n          const {data} = await axios.post('/v1/api/amazona/users/uploader',formData,config)\r\n          console.log(data)\r\n\r\n          setFile(data)\r\n\r\n\r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n        \r\n    } \r\n    \r\n   let navigate = useNavigate()\r\n\r\n    const submit =()=>{\r\n        dispacth(newProduct(name,description,price,seller,category,filer))\r\n        \r\n\r\n        alert.success('Product uploaded successfully')\r\n        navigate('/')\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n             <div className=\"container container-fluid\">\r\n        <div className=\"wrapper my-5\"> \r\n        <form className=\"shadow-lg\" encType='multipart/form-data' onSubmit={submit}>\r\n            <h1 className=\"mb-4\">New Product</h1>\r\n\r\n            <div className=\"form-group\">\r\n              <label for=\"name_field\">Name</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"name_field\"\r\n                className=\"form-control\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label for=\"price_field\">Price</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"price_field\"\r\n                  className=\"form-control\"\r\n                  value={price}\r\n                  onChange={e=> setPrice(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label for=\"description_field\">Description</label>\r\n                <textarea className=\"form-control\" id=\"description_field\" rows=\"8\" value={description} onChange={e => setDescription(e.target.value)}></textarea>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label for=\"category_field\">Category</label>\r\n                <select className=\"form-control\" id=\"category_field\" onChange={(e) => setCategory(e.target.value)} value={category}>\r\n                    {categories.map(cate =>(\r\n                    <option key={cate} value={cate}>{cate}</option>\r\n\r\n                        \r\n                    ))}\r\n                  </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label for=\"stock_field\">Stock</label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"stock_field\"\r\n                  className=\"form-control\"\r\n                  value={stock}\r\n                  onChange={e => setStock(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label for=\"seller_field\">Seller Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"seller_field\"\r\n                  className=\"form-control\"\r\n                  value={seller}\r\n                  onChange={e => setSeller(e.target.value)}\r\n                />\r\n              </div>\r\n              \r\n              <div className='form-group'>\r\n                <label>Images</label>\r\n                \r\n                    <div className='custom-file'>\r\n                        <input\r\n                            type='file'\r\n                            name='product_images'\r\n                            className='custom-file-input'\r\n                            id='customFile'\r\n                            multiple\r\n                            onChange={setImagee}\r\n                        />\r\n                        <label className='custom-file-label' for='customFile'>\r\n                            Choose Images\r\n                        </label>\r\n                    </div>\r\n            </div>\r\n\r\n  \r\n            <button\r\n              id=\"login_button\"\r\n              type=\"submit\"\r\n              className=\"btn btn-block py-3\"\r\n            >\r\n              CREATE\r\n            </button>\r\n\r\n          </form>\r\n    </div>\r\n</div>\r\n            \r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default NewProduct\r\n"]},"metadata":{},"sourceType":"module"}