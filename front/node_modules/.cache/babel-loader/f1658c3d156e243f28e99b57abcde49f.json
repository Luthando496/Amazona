{"ast":null,"code":"import _slicedToArray from\"C:/Users/imang/Music/ECOMMERCE/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import{getproducts}from'../Store/Actions/ProductsActions';import{useSelector,useDispatch}from'react-redux';import Products from'./Products';import Loader from'./Loader';import Pagination from'react-js-pagination';import{useParams}from'react-router';import Slider from'rc-slider';import'rc-slider/assets/index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Homepage=function Homepage(props){var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState([1,9000]),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useParams=useParams(),keyword=_useParams.keyword;var categories=['Electronics','Furnisher','Beauty & Health','Audio & Media','Books','Fashion','Food'];var createSliderWithTooltip=Slider.createSliderWithTooltip;var Range=createSliderWithTooltip(Slider.Range);var products=useSelector(function(state){return state.prod.products;});var loading=useSelector(function(state){return state.prod.loading;});var err=useSelector(function(state){return state.prod.er;});var resPerPage=useSelector(function(state){return state.prod.products&&products.resPerPage;});var productsCount=useSelector(function(state){return state.prod.products&&products.productsCount;});useEffect(function(){dispatch(getproducts(keyword,currentPage,price,category));},[dispatch,currentPage,keyword,price,category]);var setCurrentPageNo=function setCurrentPageNo(no){setCurrentPage(no);// dispatch(getproducts(currentPage))\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"container container-fluid\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"products_heading\",children:\"Latest Products\"}),loading?/*#__PURE__*/_jsx(Loader,{}):err?/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-danger\",role:\"alert\",children:err.message}):/*#__PURE__*/_jsx(\"section\",{id:\"products\",className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:keyword?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-md-3 mt-5 mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-5\",children:[/*#__PURE__*/_jsx(Range,{marks:{1:\"R1\",9000:\"R9000\"},min:1,max:9000,defaultValue:[1,9000],tipFormatter:function tipFormatter(value){return\"R\".concat(value);},tipProps:{placement:\"top\",visible:true},value:price,onChange:function onChange(price){return setPrice(price);}}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Categories\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"pl-0\",children:categories.map(function(cate){return/*#__PURE__*/_jsx(\"li\",{style:{cursor:\"pointer\",listStyleType:'none'},onClick:function onClick(){return setCategory(cate);},children:cate},cate);})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-md-9\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products&&products.map(function(product){return/*#__PURE__*/_jsx(Products,{product:product,hello:props,id:product.id,col:4});})})})]}):products&&products.products.map(function(product){return/*#__PURE__*/_jsx(Products,{product:product,hello:props,id:product.id,col:3},product.id);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-5\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,itemsCountPerPage:resPerPage,totalItemsCount:productsCount,onChange:setCurrentPageNo,nextPageText:'Next',prevPageText:'Previous',firstPageText:'First',lastPageText:'Last',itemClass:\"page-item\",linkClass:\"page-link\"})})]});};export default Homepage;","map":{"version":3,"sources":["C:/Users/imang/music/ecommerce/front/src/Components/Homepage.js"],"names":["React","Fragment","useEffect","useState","getproducts","useSelector","useDispatch","Products","Loader","Pagination","useParams","Slider","Homepage","props","dispatch","currentPage","setCurrentPage","price","setPrice","category","setCategory","keyword","categories","createSliderWithTooltip","Range","products","state","prod","loading","err","er","resPerPage","productsCount","setCurrentPageNo","no","message","value","placement","visible","map","cate","cursor","listStyleType","product","id"],"mappings":"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","sourcesContent":["import React,{Fragment,useEffect,useState} from 'react'\r\nimport {getproducts} from '../Store/Actions/ProductsActions'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport Products from './Products'\r\nimport Loader from './Loader'\r\nimport Pagination from 'react-js-pagination'\r\nimport { useParams } from 'react-router'\r\nimport Slider from 'rc-slider';\r\nimport 'rc-slider/assets/index.css';\r\n\r\nconst Homepage = (props) => {\r\n    const dispatch = useDispatch()\r\n    \r\n    const [currentPage,setCurrentPage] = useState(1)\r\n    const [price,setPrice] = useState([1,9000])\r\n    const [category,setCategory] = useState('')\r\n    const {keyword} = useParams()\r\n\r\n    const categories = ['Electronics','Furnisher','Beauty & Health','Audio & Media','Books','Fashion','Food']\r\n\r\n    const {createSliderWithTooltip} = Slider\r\n    const Range = createSliderWithTooltip(Slider.Range)\r\n\r\n\r\n    const products = useSelector(state => state.prod.products)\r\n    const loading = useSelector(state => state.prod.loading)\r\n    const err = useSelector(state => state.prod.er)\r\n    const resPerPage = useSelector(state => state.prod.products && products.resPerPage)\r\n    const productsCount = useSelector(state => state.prod.products && products.productsCount)\r\n\r\n    \r\n    \r\n\r\n\r\n    useEffect(()=>{\r\n\r\n        dispatch(getproducts(keyword,currentPage,price,category))\r\n        \r\n    },[dispatch,currentPage,keyword,price,category])\r\n    \r\n    \r\n    const setCurrentPageNo =(no) =>{\r\n        setCurrentPage(no)\r\n        // dispatch(getproducts(currentPage))\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className='container container-fluid'>\r\n            <h1 id=\"products_heading\">Latest Products</h1>\r\n\r\n            \r\n\r\n            {loading ? <Loader /> : err ? <div class=\"alert alert-danger\" role=\"alert\">\r\n  {err.message}\r\n</div> :(\r\n<section id=\"products\" className=\"container mt-5\" >\r\n  <div className=\"row\">\r\n            {keyword ? (\r\n                        <Fragment>\r\n                            <div className=\"col-6 col-md-3 mt-5 mb-5\">\r\n                                <div className=\"px-5\">\r\n                                    <Range\r\n                                    marks={{\r\n                                        1:`R1`,\r\n                                        9000:`R9000`\r\n                                    }}\r\n                                    min={1}\r\n                                    max={9000}\r\n                                    defaultValue={[1,9000]}\r\n                                    tipFormatter={value=> `R${value}`}\r\n                                    tipProps={{\r\n                                        placement:\"top\",\r\n                                        visible:true\r\n                                    }}\r\n                                    value={price}\r\n                                    onChange={price => setPrice(price)}\r\n                                    \r\n                                    />\r\n\r\n                                    <hr className='my-5'/>\r\n\r\n                                    <div className='mt-5'>\r\n                                    <h4 className='mb-3'>\r\n                                        Categories\r\n                                        </h4>\r\n                                        <ul className='pl-0'>\r\n                                            {categories.map(cate=>(\r\n                                                <li style={{cursor:\"pointer\",listStyleType:'none'}} key={cate} onClick={()=> setCategory(cate)} >{cate}</li>\r\n\r\n                                            ))}\r\n                                        </ul>\r\n                                    </div>\r\n                                    </div>\r\n                            </div>\r\n\r\n                            <div className=\"col-6 col-md-9\">\r\n                                    <div className=\"row\">\r\n\r\n                                    {products && products.map((product) => (\r\n                            <Products product={product} hello={props} id={product.id} col={4} />\r\n                            ))}\r\n\r\n                               </div>\r\n                            </div>\r\n                        </Fragment>\r\n                    ):\r\n                    (\r\n                        products && products.products.map((product) => (\r\n                            <Products product={product} hello={props} id={product.id} col={3} key={product.id} />\r\n\r\n                    ))\r\n\r\n      )}\r\n  </div>\r\n</section>)}\r\n            <div className=\"d-flex justify-content-center mt-5\">\r\n                <Pagination\r\n                activePage={currentPage}\r\n                itemsCountPerPage={resPerPage}\r\n                totalItemsCount={productsCount}\r\n                onChange={setCurrentPageNo}\r\n                nextPageText={'Next'}\r\n                prevPageText={'Previous'}\r\n                firstPageText={'First'}\r\n                lastPageText={'Last'}\r\n                itemClass='page-item'\r\n                linkClass='page-link'\r\n                \r\n                \r\n                />\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Homepage\r\n"]},"metadata":{},"sourceType":"module"}