{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/imang/Music/ECOMMERCE/front/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/imang/Music/ECOMMERCE/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{productAction,detailsAction}from'../store';import axios from'axios';export var getproducts=function getproducts(){var keyword=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var currentPage=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var price=arguments.length>2?arguments[2]:undefined;var category=arguments.length>3?arguments[3]:undefined;return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispacth){var link,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;console.log(keyword);link=\"/v1/api/amazona/products?keyword=\".concat(keyword,\"&page=\").concat(currentPage,\"&price=[lte]=\").concat(price[1],\"&price[gte]=\").concat(price[0]);if(category){link=\"/v1/api/amazona/products?keyword=\".concat(keyword,\"&page=\").concat(currentPage,\"&price=[lte]=\").concat(price[1],\"&price[gte]=\").concat(price[0],\"&category=\").concat(category);}_context.next=6;return axios.get(link);case 6:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispacth(productAction.ProductsSuccess(data));_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);dispacth(productAction.ProductsFail(_context.t0||_context.t0.response||_context.t0.response.data));case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var productDetails=function productDetails(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispacth){var _yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/v1/api/amazona/single-product/\".concat(id));case 3:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;dispacth(detailsAction.ProductDetailsSuccess(data.product));_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);dispacth(detailsAction.ProductsDetailsFail(_context2.t0||_context2.t0.response||_context2.t0.response.data));case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var newProduct=function newProduct(name,description,price,seller,category,filer){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,useState){var config,image,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(name,description,price,seller,category,filer);config={headers:{'Content-Type':'application/json'}};image=[];image.push(filer);_context3.prev=4;_context3.next=7;return axios.post('/v1/api/amazona/admin/new-product',{name:name,description:description,price:price,seller:seller,category:category,image:image},config);case 7:_yield$axios$post=_context3.sent;data=_yield$axios$post.data;console.log(data);dispatch(productAction.newProduct(data));_context3.next=17;break;case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](4);console.log(_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message);dispatch(productAction.newProdFail(_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message));case 17:case\"end\":return _context3.stop();}}},_callee3,null,[[4,13]]);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/imang/music/ecommerce/front/src/Store/Actions/ProductsActions.js"],"names":["productAction","detailsAction","axios","getproducts","keyword","currentPage","price","category","dispacth","console","log","link","get","data","ProductsSuccess","ProductsFail","response","productDetails","id","ProductDetailsSuccess","product","ProductsDetailsFail","newProduct","name","description","seller","filer","dispatch","useState","config","headers","image","push","post","message","newProdFail"],"mappings":"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","sourcesContent":["import {productAction,detailsAction} from '../store'\r\nimport axios from 'axios'\r\n\r\n\r\nexport const getproducts = (keyword = '',currentPage=1,price,category) =>\r\n    async dispacth =>{\r\n        try{\r\n\r\n            console.log(keyword)\r\n\r\n            let link = `/v1/api/amazona/products?keyword=${keyword}&page=${currentPage}&price=[lte]=${price[1]}&price[gte]=${price[0]}`\r\n\r\n            if(category){\r\n                link = `/v1/api/amazona/products?keyword=${keyword}&page=${currentPage}&price=[lte]=${price[1]}&price[gte]=${price[0]}&category=${category}` \r\n\r\n            }\r\n\r\n            const {data} = await axios.get(link)\r\n\r\n\r\n\r\n            dispacth(productAction.ProductsSuccess(data))\r\n\r\n\r\n\r\n        }catch(err){\r\n            console.log(err)\r\n            dispacth(productAction.ProductsFail(err || err.response || err.response.data))\r\n        }\r\n}\r\n\r\n\r\n\r\n\r\nexport const productDetails = (id) =>\r\n    async dispacth =>{\r\n\r\n        // dispacth(detailsAction.allProductsRequest())\r\n        try{\r\n\r\n            const {data} = await axios.get(`/v1/api/amazona/single-product/${id}`) \r\n\r\n\r\n            dispacth(detailsAction.ProductDetailsSuccess(data.product))\r\n\r\n\r\n\r\n        }catch(err){\r\n            console.log(err)\r\n            dispacth(detailsAction.ProductsDetailsFail(err || err.response || err.response.data))\r\n        }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const newProduct = (name,description,price,seller,category,filer)=>{\r\n    return async (dispatch,useState)=>{\r\n\r\n\r\n\r\n        console.log(name,description,price,seller,category,filer)\r\n\r\n\r\n\r\n        const config ={\r\n            headers:{\r\n                'Content-Type': 'application/json',\r\n            }\r\n        }\r\n\r\n        let image = []\r\n        image.push(filer)\r\n\r\n\r\n\r\n        try {\r\n\r\n            const {data} = await axios.post('/v1/api/amazona/admin/new-product',{name,description,price,seller,category,image},config)\r\n\r\n            console.log(data)\r\n\r\n\r\n            dispatch(productAction.newProduct(data))\r\n\r\n\r\n        }catch(err){\r\n            console.log(err.response && err.response.data.message\r\n                ? err.response.data.message\r\n                : err.message)\r\n            dispatch(productAction.newProdFail(err.response && err.response.data.message\r\n                ? err.response.data.message\r\n                : err.message))\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}