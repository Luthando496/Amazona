{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';// const cartStore = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) :[]\nvar cartSlice=createSlice({name:'cart',initialState:{items:[]},reducers:{addTocart:function addTocart(state,action){var item=action.payload;var exist=state.items.find(function(p){return p.id===item.id;});if(!exist){state.items.push({_id:item._id,name:item.name,price:item.price,description:item.description,ratings:item.ratings,category:item.category,seller:item.seller,stock:item.stock,image:item.image,numOfReviews:item.numOfReviews,createdAt:item.createdAt,id:item.id,quantity:1});}else{exist.stock--;exist.quantity++;}// if(exist.stock === 0){\n//     exist.stock = 0\n// }\n},removeItem:function removeItem(state,action){var id=action.payload;var exist=state.items.find(function(p){return p.id===id;});if(exist.quantity===1){state.items=state.items.filter(function(item){return item.id!==id;});}else{exist.quantity--;}}// addQty(state, action){}\n}});export var cartAction=cartSlice.actions;export var cartReducer=cartSlice.reducer;","map":{"version":3,"sources":["C:/Users/imang/music/ecommerce/front/src/Store/CartReducer.js"],"names":["createSlice","cartSlice","name","initialState","items","reducers","addTocart","state","action","item","payload","exist","find","p","id","push","_id","price","description","ratings","category","seller","stock","image","numOfReviews","createdAt","quantity","removeItem","filter","cartAction","actions","cartReducer","reducer"],"mappings":"AAAA,OAAQA,WAAR,KAA0B,kBAA1B,CAEA;AAGA,GAAMC,CAAAA,SAAS,CAAGD,WAAW,CAAC,CAC1BE,IAAI,CAAC,MADqB,CAE1BC,YAAY,CAAC,CAACC,KAAK,CAAC,EAAP,CAFa,CAG1BC,QAAQ,CAAC,CACLC,SADK,oBACKC,KADL,CACYC,MADZ,CACmB,CACpB,GAAMC,CAAAA,IAAI,CAAGD,MAAM,CAACE,OAApB,CACA,GAAMC,CAAAA,KAAK,CAAGJ,KAAK,CAACH,KAAN,CAAYQ,IAAZ,CAAiB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,EAAF,GAASL,IAAI,CAACK,EAAlB,EAAlB,CAAd,CAEA,GAAG,CAACH,KAAJ,CAAU,CACNJ,KAAK,CAACH,KAAN,CAAYW,IAAZ,CAAiB,CACbC,GAAG,CAACP,IAAI,CAACO,GADI,CAEbd,IAAI,CAACO,IAAI,CAACP,IAFG,CAGbe,KAAK,CAACR,IAAI,CAACQ,KAHE,CAIbC,WAAW,CAACT,IAAI,CAACS,WAJJ,CAKbC,OAAO,CAACV,IAAI,CAACU,OALA,CAMbC,QAAQ,CAACX,IAAI,CAACW,QAND,CAObC,MAAM,CAACZ,IAAI,CAACY,MAPC,CAQbC,KAAK,CAACb,IAAI,CAACa,KARE,CASbC,KAAK,CAACd,IAAI,CAACc,KATE,CAUbC,YAAY,CAACf,IAAI,CAACe,YAVL,CAWbC,SAAS,CAAChB,IAAI,CAACgB,SAXF,CAYbX,EAAE,CAACL,IAAI,CAACK,EAZK,CAabY,QAAQ,CAAC,CAbI,CAAjB,EAeH,CAhBD,IAgBK,CACDf,KAAK,CAACW,KAAN,GACAX,KAAK,CAACe,QAAN,GACH,CAED;AACA;AAEA;AAGH,CAhCI,CAiCLC,UAjCK,qBAiCMpB,KAjCN,CAiCaC,MAjCb,CAiCoB,CACrB,GAAMM,CAAAA,EAAE,CAAGN,MAAM,CAACE,OAAlB,CACA,GAAMC,CAAAA,KAAK,CAAGJ,KAAK,CAACH,KAAN,CAAYQ,IAAZ,CAAiB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,EAAF,GAASA,EAAb,EAAlB,CAAd,CACA,GAAGH,KAAK,CAACe,QAAN,GAAmB,CAAtB,CAAwB,CACpBnB,KAAK,CAACH,KAAN,CAAcG,KAAK,CAACH,KAAN,CAAYwB,MAAZ,CAAmB,SAAAnB,IAAI,QAAIA,CAAAA,IAAI,CAACK,EAAL,GAAYA,EAAhB,EAAvB,CAAd,CAEH,CAHD,IAGK,CACDH,KAAK,CAACe,QAAN,GACH,CACJ,CACD;AA3CK,CAHiB,CAAD,CAA7B,CAoDA,MAAO,IAAMG,CAAAA,UAAU,CAAG5B,SAAS,CAAC6B,OAA7B,CACP,MAAO,IAAMC,CAAAA,WAAW,CAAG9B,SAAS,CAAC+B,OAA9B","sourcesContent":["import {createSlice} from '@reduxjs/toolkit'\r\n\r\n// const cartStore = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) :[]\r\n\r\n\r\nconst cartSlice = createSlice({\r\n    name:'cart',\r\n    initialState:{items:[]},\r\n    reducers:{\r\n        addTocart(state, action){\r\n            const item = action.payload\r\n            const exist = state.items.find(p => p.id === item.id)\r\n\r\n            if(!exist){\r\n                state.items.push({\r\n                    _id:item._id,\r\n                    name:item.name,\r\n                    price:item.price,\r\n                    description:item.description,\r\n                    ratings:item.ratings,\r\n                    category:item.category,\r\n                    seller:item.seller,\r\n                    stock:item.stock,\r\n                    image:item.image,\r\n                    numOfReviews:item.numOfReviews,\r\n                    createdAt:item.createdAt,\r\n                    id:item.id,\r\n                    quantity:1\r\n})\r\n            }else{\r\n                exist.stock--\r\n                exist.quantity++\r\n            }\r\n\r\n            // if(exist.stock === 0){\r\n            //     exist.stock = 0\r\n\r\n            // }\r\n\r\n\r\n        },\r\n        removeItem(state, action){\r\n            const id = action.payload\r\n            const exist = state.items.find(p => p.id === id)\r\n            if(exist.quantity === 1){\r\n                state.items = state.items.filter(item => item.id !== id)\r\n\r\n            }else{\r\n                exist.quantity--\r\n            }\r\n        },\r\n        // addQty(state, action){}\r\n\r\n    }\r\n})\r\n\r\n\r\nexport const cartAction = cartSlice.actions\r\nexport const cartReducer = cartSlice.reducer"]},"metadata":{},"sourceType":"module"}