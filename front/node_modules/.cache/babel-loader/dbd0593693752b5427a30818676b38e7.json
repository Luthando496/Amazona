{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/imang/Music/ECOMMERCE/front/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/imang/Music/ECOMMERCE/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/imang/Music/ECOMMERCE/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./design.css';import{Routes,Route}from'react-router-dom';import{useEffect,useState}from'react';import Header from'./Components/Header';import Footer from'./Components/Footer';import Homepage from'./Components/Homepage';import ProductDetails from'./Components/ProductDetails';import Auth from'./Components/Auth';import Register from'./Components/Register';import{getMe}from'./Store/Actions/authActions';import{useDispatch,useSelector}from'react-redux';import Profile from'./Components/Profile';import ProtectedRoute from'./Components/ProtectedRoute';import Cart from'./Components/Cart';import NoPage from'./Components/NoPage';import{Shipping}from'./Components/Shipping';import OrderDetails from'./Components/OrderDetails';import axios from'axios';import{Elements}from'@stripe/react-stripe-js';import Payment from'./Components/Payment';import{loadStripe}from'@stripe/stripe-js';import Dashboard from'./Admin/Dashboard';import NewProduct from'./Admin/NewProduct';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(props){var token=useSelector(function(state){return state.auth;});var _useState=useState(null),_useState2=_slicedToArray(_useState,2),stripekey=_useState2[0],setKey=_useState2[1];var dispatch=useDispatch();var config={headers:{'Content-Type':'application/json',Authorization:token?\"Bearer \".concat(token.token):''}};useEffect(function(){dispatch(getMe());function getStripe(){return _getStripe.apply(this,arguments);}function _getStripe(){_getStripe=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/v1/api/amazona/pay/stripe-api',config);case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;console.log(data);setKey(data);case 6:case\"end\":return _context.stop();}}},_callee);}));return _getStripe.apply(this,arguments);}getStripe();},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Homepage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/search/:keyword\",element:/*#__PURE__*/_jsx(Homepage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/login\",element:/*#__PURE__*/_jsx(Auth,{})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(NoPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shipping\",element:/*#__PURE__*/_jsx(Shipping,{})}),/*#__PURE__*/_jsx(Route,{path:\"/confirm\",element:/*#__PURE__*/_jsx(OrderDetails,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/payment\",element:/*#__PURE__*/_jsx(Payment,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/reg\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/user/cart\",element:/*#__PURE__*/_jsx(Cart,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/my-profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/new-product\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(NewProduct,{})})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/product/:id\",children:function children(_ref){var match=_ref.match;return match;},element:/*#__PURE__*/_jsx(ProductDetails,{props:props})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"sources":["C:/Users/imang/music/ecommerce/front/src/App.js"],"names":["Routes","Route","useEffect","useState","Header","Footer","Homepage","ProductDetails","Auth","Register","getMe","useDispatch","useSelector","Profile","ProtectedRoute","Cart","NoPage","Shipping","OrderDetails","axios","Elements","Payment","loadStripe","Dashboard","NewProduct","App","props","token","state","auth","stripekey","setKey","dispatch","config","headers","Authorization","getStripe","get","data","console","log","match"],"mappings":"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","sourcesContent":["import './design.css';\nimport {Routes,Route} from 'react-router-dom'\nimport {useEffect,useState} from 'react'\nimport Header from './Components/Header';\nimport Footer from './Components/Footer';\nimport Homepage from './Components/Homepage';\nimport ProductDetails from './Components/ProductDetails';\nimport Auth from './Components/Auth';\nimport Register from './Components/Register';\nimport {getMe} from './Store/Actions/authActions'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Profile from './Components/Profile';\nimport ProtectedRoute from './Components/ProtectedRoute';\nimport Cart from './Components/Cart';\nimport NoPage from './Components/NoPage';\nimport { Shipping } from './Components/Shipping';\nimport OrderDetails from './Components/OrderDetails';\nimport axios from 'axios';\nimport {Elements} from '@stripe/react-stripe-js'\nimport Payment from './Components/Payment';\nimport {loadStripe} from '@stripe/stripe-js'\nimport Dashboard from './Admin/Dashboard'\nimport NewProduct from './Admin/NewProduct';\n\n\nconst App =(props)=> {\n\n  const token = useSelector(state => state.auth)\n  const [stripekey,setKey] = useState(null)\n\n\n\n\n\n  const dispatch = useDispatch()\n\n  const config ={\n    headers:{\n        'Content-Type': 'application/json',\n        Authorization: token ? `Bearer ${token.token}` : ''\n    }\n}\n\n  useEffect(() =>{\n    dispatch(getMe())\n     \n    async function getStripe() {\n     const {data} = await axios.get('/v1/api/amazona/pay/stripe-api',config)\n\n     console.log(data)\n     setKey(data)\n    }\n    \n    getStripe()\n\n  },[dispatch])\n\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <Routes>\n      <Route exact path=\"/\" element={<Homepage/>}>\n        </Route>\n\n      <Route path=\"/search/:keyword\" element={<Homepage/>}>\n        </Route>\n\n        <Route path=\"/user/login\" element={<Auth/>}>\n        </Route>\n\n\n        <Route path=\"/*\" element={<NoPage/>}>\n        </Route>\n\n\n        <Route path=\"/shipping\" element={<Shipping/>}>\n          </Route>\n\n        <Route path=\"/confirm\" element={<OrderDetails/>}>\n          </Route>\n\n        <Route path=\"/user/payment\" element={<Payment/>}>\n          </Route>\n\n        <Route path=\"/user/reg\" element={<Register/>}>\n        </Route>\n\n        <Route path=\"/admin/dashboard\" element={<ProtectedRoute>\n        <Dashboard/>\n        </ProtectedRoute>}>\n        </Route>\n        \n        <Route path=\"/user/cart\" element={<Cart/>}>\n          </Route>\n        {/* <Route path=\"/*\" element={<NoPage/>}>\n          </Route> */}\n      \n      <Route path=\"/user/my-profile\" element={<ProtectedRoute>\n        <Profile/>\n        </ProtectedRoute>}>\n        </Route>\n\n        <Route path=\"/admin/new-product\" element={<ProtectedRoute>\n        <NewProduct/>\n        </ProtectedRoute>}>\n        </Route>\n\n        <Route exact path={`/product/:id`} children={({ match }) => (\n    match)} element={<ProductDetails props={props}/>}>\n        </Route>\n    </Routes>\n      <Footer />\n     \n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}