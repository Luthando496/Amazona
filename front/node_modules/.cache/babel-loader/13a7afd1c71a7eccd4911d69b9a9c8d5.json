{"ast":null,"code":"import React,{Fragment}from'react';import{Link,useNavigate}from'react-router-dom';import{useSelector}from'react-redux';import StripeCheckoutBtn from'./StripeCheckoutBtn';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderDetails=function OrderDetails(){var navigate=useNavigate();var name=useSelector(function(state){return state.auth.user;});var cart=useSelector(function(state){return state.cart.items;});var _useSelector=useSelector(function(state){return state.ship.ShippingInfo;}),address=_useSelector.address,phoneNumber=_useSelector.phoneNumber,city=_useSelector.city,Country=_useSelector.Country,PostalCode=_useSelector.PostalCode;var itemPrice=cart.reduce(function(acc,item){return acc+item.quantity*item.price;},0);var Shipping=itemPrice>500?85:56;var tax=Number(itemPrice*0.25);var total=tax+Shipping+itemPrice;var proceed=function proceed(){var data={itemPrice:itemPrice.toFixed(2),shippingPrice:Shipping,taxPrice:tax,totalPrice:total};sessionStorage.setItem('order',JSON.stringify(data));navigate('/user/payment');};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{class:\"container container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 col-lg-8 mt-5 order-confirm\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"mb-3\",children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Name:\"}),\" \",name?name.user.name:'Your Name']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Phone:\"}),phoneNumber]}),/*#__PURE__*/_jsxs(\"p\",{class:\"mb-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Address:\"}),address,\",\",city,\",\",Country,\",\",PostalCode]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{class:\"mt-4\",children:\"Your Cart Items:\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{class:\"cart-item my-1\",children:cart.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-4 col-lg-2\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image.map(function(image){return image.url;}),alt:\"Laptop\",height:\"45\",width:\"65\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-5 col-lg-6\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.id),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-4 col-lg-4 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"$ \",itemPrice]})})})]});})}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-12 col-lg-3 my-4\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"order_summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Order Summary\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Subtotal:  \",/*#__PURE__*/_jsxs(\"span\",{class:\"order-summary-values\",children:[\"$\",itemPrice]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Shipping: \",/*#__PURE__*/_jsxs(\"span\",{class:\"order-summary-values\",children:[\"$\",Shipping]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Tax: \",/*#__PURE__*/_jsxs(\"span\",{class:\"order-summary-values\",children:[\"$\",tax,\" \"]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",/*#__PURE__*/_jsxs(\"span\",{class:\"order-summary-values\",children:[\"$\",total]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(StripeCheckoutBtn,{price:total,class:\"btn btn-primary btn-block\"})]})})]})})});};export default OrderDetails;","map":{"version":3,"sources":["C:/Users/imang/music/ecommerce/front/src/Components/OrderDetails.js"],"names":["React","Fragment","Link","useNavigate","useSelector","StripeCheckoutBtn","OrderDetails","navigate","name","state","auth","user","cart","items","ship","ShippingInfo","address","phoneNumber","city","Country","PostalCode","itemPrice","reduce","acc","item","quantity","price","Shipping","tax","Number","total","proceed","data","toFixed","shippingPrice","taxPrice","totalPrice","sessionStorage","setItem","JSON","stringify","map","image","url","id"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react'\r\nimport {Link,useNavigate} from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport StripeCheckoutBtn from './StripeCheckoutBtn'\r\n\r\nconst OrderDetails = () => {\r\n\r\n    let navigate = useNavigate()\r\n    const name = useSelector(state => state.auth.user)\r\n    const cart = useSelector(state => state.cart.items)\r\n    const {address,phoneNumber,city,Country,PostalCode} = useSelector(state => state.ship.ShippingInfo)\r\n\r\n    const itemPrice = cart.reduce((acc,item) => acc + item.quantity * item.price,0)\r\n\r\n    const Shipping = itemPrice  > 500 ? 85 : 56\r\n\r\n    const tax = Number(itemPrice * 0.25)\r\n\r\n    const total = tax + Shipping + itemPrice\r\n\r\n    const proceed =() =>{\r\n        const data ={\r\n            itemPrice:itemPrice.toFixed(2),\r\n            shippingPrice:Shipping,\r\n            taxPrice:tax,\r\n            totalPrice:total,\r\n        }\r\n\r\n        sessionStorage.setItem('order',JSON.stringify(data))\r\n        navigate('/user/payment')\r\n    }\r\n    return (\r\n        <Fragment>\r\n    <div class=\"container container-fluid\">\r\n        \r\n        <div class=\"row d-flex justify-content-between\">\r\n            <div class=\"col-12 col-lg-8 mt-5 order-confirm\">\r\n\r\n                <h4 class=\"mb-3\">Shipping Info</h4>\r\n                <p><b>Name:</b> {name ? name.user.name : 'Your Name'}</p>\r\n                <p><b>Phone:</b>{phoneNumber}</p>\r\n                <p class=\"mb-4\"><b>Address:</b>{address},{city},{Country},{PostalCode}</p>\r\n                \r\n                <hr />\r\n                <h4 class=\"mt-4\">Your Cart Items:</h4>\r\n\r\n                <hr />\r\n                <div class=\"cart-item my-1\">\r\n                        {cart.map((item) =>(\r\n                            \r\n                    <div class=\"row\">\r\n                        <div class=\"col-4 col-lg-2\">\r\n                            <img src={item.image.map((image) => image.url)} alt=\"Laptop\" height=\"45\" width=\"65\" />\r\n                        </div>\r\n\r\n                        <div class=\"col-5 col-lg-6\">\r\n                            <Link to={`/product/${item.id}`}>{item.name}</Link>\r\n                        </div>\r\n\r\n\r\n                        <div class=\"col-4 col-lg-4 mt-4 mt-lg-0\">\r\n                            <p><b>$ {itemPrice}</b></p>\r\n                        </div>\r\n\r\n                    </div>\r\n                        ))}\r\n                </div>\r\n                <hr />\r\n\r\n            </div>\r\n\t\t\t\r\n\t\t\t<div class=\"col-12 col-lg-3 my-4\">\r\n                    <div id=\"order_summary\">\r\n                        <h4>Order Summary</h4>\r\n                        <hr />\r\n                        <p>Subtotal:  <span class=\"order-summary-values\">${itemPrice}</span></p>\r\n                        <p>Shipping: <span class=\"order-summary-values\">${Shipping}</span></p>\r\n                        <p>Tax: <span class=\"order-summary-values\">${tax} </span></p>\r\n\r\n                        <hr />\r\n\r\n                        <p>Total: <span class=\"order-summary-values\">${total}</span></p>\r\n\r\n                        <hr />\r\n                        {/* <button id=\"checkout_btn\" class=\"btn btn-primary btn-block\" onClick={proceed}>Proceed to Payment</button> */}\r\n                        <StripeCheckoutBtn price={total} class=\"btn btn-primary btn-block\" />\r\n                    </div>\r\n                </div>\r\n\t\t\t\r\n\t\t\t\r\n        </div>\r\n    </div>\r\n\r\n\r\n            \r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default OrderDetails\r\n"]},"metadata":{},"sourceType":"module"}