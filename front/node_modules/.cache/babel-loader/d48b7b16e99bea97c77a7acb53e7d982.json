{"ast":null,"code":"import { shippingAction } from '../ShipReducer';\nimport axios from 'axios';\nexport const addShipping = (address, city, phoneNumber, postalCode, Country) => {\n  return dispatch => {\n    const data = {\n      address,\n      city,\n      phoneNumber,\n      postalCode,\n      Country\n    };\n    dispatch(shippingAction.AddShipping(data));\n    localStorage.setItem('ship', JSON.stringify(data));\n  };\n}; // rating,comment,productId\n\nexport const newRev = (id, rating, comment) => {\n  return async (dispatch, useState) => {\n    const productId = id;\n    const token = JSON.parse(localStorage.getItem('token'));\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: token ? `Bearer ${token}` : ''\n      }\n    };\n\n    try {\n      const {\n        data\n      } = await axios.put('/v1/api/amazona/products/reviews', {\n        productId,\n        rating,\n        comment\n      }, config);\n      dispatch(shippingAction.newReview(data));\n    } catch (err) {\n      console.log(err.response && err.response.data.message ? err.response.data.message : err.message);\n      dispatch(shippingAction.reviewFail(err.response && err.response.data.message ? err.response.data.message : err.message));\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/imang/music/ecommerce/front/src/Store/Actions/ShipAction.js"],"names":["shippingAction","axios","addShipping","address","city","phoneNumber","postalCode","Country","dispatch","data","AddShipping","localStorage","setItem","JSON","stringify","newRev","id","rating","comment","useState","productId","token","parse","getItem","config","headers","Authorization","put","newReview","err","console","log","response","message","reviewFail"],"mappings":"AAAA,SAAQA,cAAR,QAA6B,gBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAKA,OAAO,MAAMC,WAAW,GAAE,CAACC,OAAD,EAASC,IAAT,EAAcC,WAAd,EAA0BC,UAA1B,EAAqCC,OAArC,KAAgD;AACtE,SAAOC,QAAQ,IAAG;AACd,UAAMC,IAAI,GAAG;AAACN,MAAAA,OAAD;AAASC,MAAAA,IAAT;AAAcC,MAAAA,WAAd;AAA0BC,MAAAA,UAA1B;AAAqCC,MAAAA;AAArC,KAAb;AACAC,IAAAA,QAAQ,CAACR,cAAc,CAACU,WAAf,CAA2BD,IAA3B,CAAD,CAAR;AAEAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAA5B;AACH,GALD;AAMH,CAPM,C,CAYP;;AAGA,OAAO,MAAMM,MAAM,GAAG,CAACC,EAAD,EAAIC,MAAJ,EAAWC,OAAX,KAAqB;AACvC,SAAO,OAAMV,QAAN,EAAeW,QAAf,KAA2B;AAE9B,UAAMC,SAAS,GAAGJ,EAAlB;AAGD,UAAMK,KAAK,GAAGR,IAAI,CAACS,KAAL,CAAWX,YAAY,CAACY,OAAb,CAAqB,OAArB,CAAX,CAAd;AAEA,UAAMC,MAAM,GAAE;AACbC,MAAAA,OAAO,EAAC;AACJ,wBAAgB,kBADZ;AAEJC,QAAAA,aAAa,EAAEL,KAAK,GAAI,UAASA,KAAM,EAAnB,GAAuB;AAFvC;AADK,KAAd;;AAOH,QAAG;AAEC,YAAM;AAACZ,QAAAA;AAAD,UAAS,MAAMR,KAAK,CAAC0B,GAAN,CAAU,kCAAV,EAA6C;AAACP,QAAAA,SAAD;AAAWH,QAAAA,MAAX;AAAkBC,QAAAA;AAAlB,OAA7C,EAAwEM,MAAxE,CAArB;AAGAhB,MAAAA,QAAQ,CAACR,cAAc,CAAC4B,SAAf,CAAyBnB,IAAzB,CAAD,CAAR;AAEH,KAPD,CAOC,OAAMoB,GAAN,EAAU;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,QAAJ,IAAgBH,GAAG,CAACG,QAAJ,CAAavB,IAAb,CAAkBwB,OAAlC,GACNJ,GAAG,CAACG,QAAJ,CAAavB,IAAb,CAAkBwB,OADZ,GAENJ,GAAG,CAACI,OAFV;AAGAzB,MAAAA,QAAQ,CAACR,cAAc,CAACkC,UAAf,CAA0BL,GAAG,CAACG,QAAJ,IAAgBH,GAAG,CAACG,QAAJ,CAAavB,IAAb,CAAkBwB,OAAlC,GAC7BJ,GAAG,CAACG,QAAJ,CAAavB,IAAb,CAAkBwB,OADW,GAE7BJ,GAAG,CAACI,OAFD,CAAD,CAAR;AAGH;AACA,GA7BD;AA8BH,CA/BM","sourcesContent":["import {shippingAction} from '../ShipReducer'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\n\r\nexport const addShipping =(address,city,phoneNumber,postalCode,Country) =>{\r\n    return dispatch =>{\r\n        const data = {address,city,phoneNumber,postalCode,Country}\r\n        dispatch(shippingAction.AddShipping(data))\r\n\r\n        localStorage.setItem('ship',JSON.stringify(data))\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n// rating,comment,productId\r\n\r\n\r\nexport const newRev = (id,rating,comment)=>{\r\n    return async(dispatch,useState) =>{\r\n\r\n        const productId = id;\r\n\r\n\r\n       const token = JSON.parse(localStorage.getItem('token'))\r\n\r\n       const config ={\r\n        headers:{\r\n            'Content-Type': 'application/json',\r\n            Authorization: token ? `Bearer ${token}` : ''\r\n        }\r\n    }\r\n\r\n    try{\r\n\r\n        const {data} = await axios.put('/v1/api/amazona/products/reviews',{productId,rating,comment},config)\r\n        \r\n\r\n        dispatch(shippingAction.newReview(data))\r\n\r\n    }catch(err){\r\n        console.log(err.response && err.response.data.message\r\n            ? err.response.data.message\r\n            : err.message)\r\n        dispatch(shippingAction.reviewFail(err.response && err.response.data.message\r\n            ? err.response.data.message\r\n            : err.message))\r\n    }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}