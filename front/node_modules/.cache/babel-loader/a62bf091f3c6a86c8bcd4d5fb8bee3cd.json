{"ast":null,"code":"import _slicedToArray from\"C:/Users/imang/Music/ECOMMERCE/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link,useNavigate,useLocation}from'react-router-dom';import{login}from'../Store/Actions/authActions';import Loader from'./Loader';import{useAlert}from'react-alert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Auth=function Auth(){var alert=useAlert();var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useSelector=useSelector(function(state){return state.auth;}),isAuth=_useSelector.isAuth,loading=_useSelector.loading,er=_useSelector.er,user=_useSelector.user;var navigate=useNavigate();var _useLocation=useLocation(),search=_useLocation.search;var redirect=search?search.split('=')[1]:'/';useEffect(function(){if(user&&user.user){navigate(redirect);}},[user]);var Submit=function Submit(e){e.preventDefault();dispatch(login(email,password));alert.success('Logged In');};return/*#__PURE__*/_jsxs(Fragment,{children:[loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-10 col-lg-5 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert-danger\",children:er}),/*#__PURE__*/_jsxs(\"form\",{className:\"shadow-lg\",onSubmit:Submit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-3\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email_field\",className:\"form-control\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password_field\",className:\"form-control\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Link,{to:\"/users/forgot-pass\",className:\"float-right mb-4\",children:\"Forgot Password?\"}),/*#__PURE__*/_jsx(\"button\",{id:\"login_button\",type:\"submit\",className:\"btn btn-block py-3\",children:\"LOGIN\"}),/*#__PURE__*/_jsx(Link,{to:\"/users/register\",className:\"float-right mb-mt-3\",children:\"New User?\"})]})]})})})}),/*#__PURE__*/_jsx(\"div\",{})]});};export default Auth;","map":{"version":3,"sources":["C:/Users/imang/music/ecommerce/front/src/Components/Auth.js"],"names":["React","useState","Fragment","useEffect","useDispatch","useSelector","Link","useNavigate","useLocation","login","Loader","useAlert","Auth","alert","dispatch","email","setEmail","password","setPassword","state","auth","isAuth","loading","er","user","navigate","search","redirect","split","Submit","e","preventDefault","success","target","value"],"mappings":"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","sourcesContent":["import React,{useState,Fragment,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport {Link,useNavigate,useLocation} from 'react-router-dom'\r\nimport {login} from '../Store/Actions/authActions'\r\nimport Loader from './Loader'\r\nimport {useAlert} from 'react-alert'\r\n\r\n\r\nconst Auth = () => {\r\n    const alert = useAlert()\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const [email,setEmail] = useState('')\r\n    const [password,setPassword] = useState('')\r\n    const {isAuth,loading,er,user} = useSelector(state=>state.auth)\r\n    let navigate = useNavigate()\r\n    const {search} = useLocation()\r\n    \r\n    const redirect = search ? search.split('=')[1] : '/'\r\n    \r\n\r\n    useEffect(() => {\r\n        if(user && user.user) {\r\n            navigate(redirect)\r\n        }\r\n\r\n    },[user])\r\n    const Submit =(e) =>{\r\n        e.preventDefault()\r\n\r\n        dispatch(login(email,password))\r\n        alert.success('Logged In')\r\n    }\r\n    return (\r\n        <Fragment>\r\n\r\n\r\n            {loading ? <Loader /> :(\r\n                <Fragment>\r\n\r\n            <div className=\"container container-fluid\">\r\n        <div className=\"row wrapper\"> \r\n\t\t<div className=\"col-10 col-lg-5 text-center\">\r\n    <div className=\"alert-danger\">{er}</div>\r\n        <form className=\"shadow-lg\" onSubmit={Submit}>\r\n            <h1 className=\"mb-3\">Login</h1>\r\n            <div className=\"form-group\">\r\n              <label>Email</label>\r\n              <input\r\n                type=\"email\"\r\n                id=\"email_field\"\r\n                className=\"form-control\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </div>\r\n  \r\n            <div className=\"form-group\">\r\n              <label>Password</label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"password_field\"\r\n                className=\"form-control\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <Link to='/users/forgot-pass' className=\"float-right mb-4\">Forgot Password?</Link>\r\n  \r\n            <button\r\n              id=\"login_button\"\r\n              type=\"submit\"\r\n              className=\"btn btn-block py-3\"\r\n            >\r\n              LOGIN\r\n            </button>\r\n\r\n            <Link to='/users/register' className=\"float-right mb-mt-3\">New User?</Link>\r\n          </form>\r\n\t\t  </div>\r\n    </div>\r\n</div>\r\n                </Fragment>\r\n            )}\r\n            <div>\r\n\r\n            </div>\r\n            \r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Auth\r\n"]},"metadata":{},"sourceType":"module"}